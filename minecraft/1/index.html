<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Concept Minecraft in JS</title>
    <style>
        /* Basic reset and styling */
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            background: #87CEEB; /* Sky-blue background */
        }
        canvas {
            display: block;
            background: #555; /* Ground color */
            margin: 0 auto;
        }
        #instructions {
            text-align: center;
            color: #fff;
            font-family: Arial, sans-serif;
            margin: 10px;
        }
    </style>
</head>
<body>
    <div id="instructions">Left-click to remove a block, right-click to add a block, refresh to reset.</div>
    <canvas id="gameCanvas" width="640" height="480"></canvas>
    <script>
        // Define game parameters
        const canvas = document.getElementById("gameCanvas");
        const ctx = canvas.getContext("2d");
        const blockSize = 32;
        const cols = Math.floor(canvas.width / blockSize);
        const rows = Math.floor(canvas.height / blockSize);
        // A simple 2D array representing the world (1 = block exists, 0 = empty)
        let world = [];
        function initWorld() {
            world = [];
            // Fill bottom half with blocks to simulate terrain
            for (let r = 0; r < rows; r++) {
                world[r] = [];
                for (let c = 0; c < cols; c++) {
                    // Letâ€™s fill the bottom half with blocks and leave the top half empty (sky)
                    world[r][c] = r >= Math.floor(rows / 2) ? 1 : 0;
                }
            }
        }
        initWorld();

        // Render the world grid on the canvas.
        function drawWorld() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            for (let r = 0; r < rows; r++) {
                for (let c = 0; c < cols; c++) {
                    if (world[r][c] === 1) {
                        // Draw a block with a simple texture (color and grid)
                        ctx.fillStyle = "#8B4513"; // Brown for dirt
                        ctx.fillRect(c * blockSize, r * blockSize, blockSize, blockSize);
                        ctx.strokeStyle = "#5C3317";
                        ctx.strokeRect(c * blockSize, r * blockSize, blockSize, blockSize);
                    }
                }
            }
        }
        drawWorld();

        // Convert mouse coordinates to grid coordinates.
        function getGridPosition(event) {
            const rect = canvas.getBoundingClientRect();
            const x = event.clientX - rect.left;
            const y = event.clientY - rect.top;
            const c = Math.floor(x / blockSize);
            const r = Math.floor(y / blockSize);
            return { r, c };
        }

        // Left-click to remove a block.
        canvas.addEventListener("click", (event) => {
            const pos = getGridPosition(event);
            if (world[pos.r] && world[pos.r][pos.c] === 1) {
                world[pos.r][pos.c] = 0;
                drawWorld();
            }
        });

        // Right-click to add a block.
        canvas.addEventListener("contextmenu", (event) => {
            event.preventDefault();
            const pos = getGridPosition(event);
            if (world[pos.r] && world[pos.r][pos.c] === 0) {
                world[pos.r][pos.c] = 1;
                drawWorld();
            }
        });

        // Optional: reset world on pressing the 'r' key.
        document.addEventListener("keydown", (e) => {
            if (e.key.toLowerCase() === "r") {
                initWorld();
                drawWorld();
            }
        });
    </script>
</body>
</html>